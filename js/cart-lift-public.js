!function(e){let l;CartLiftCheckout={init:function(){if("1"===cl_localized_vars.gdpr){var l=cl_localized_vars.no_thanks;e(".woocommerce-billing-fields__field-wrapper #billing_email").after("<span id='cl_gdpr_message'> <span> "+cl_localized_vars.gdpr_messages+" <a style='cursor: pointer' id='cl_gdpr_no_thanks'>"+l+"</a></span></span>")}e(document).on("keyup keypress change","input",this.saveCartData),e(document).on("keydown","input",this.clearTheCountDown),e("#cl_gdpr_no_thanks").click((function(e){e.preventDefault(),CartLiftCheckout.remove_gdpr_notice()})),setTimeout((function(){CartLiftCheckout.saveCartData()}),800)},clearTheCountDown:function(){clearTimeout(l)},saveCartData:function(){var a="",i="",t="",n="",c="",_="",o="",r="",d="wc",s=e("._wpfunnels_checkout_id").val();e("#edd-email").length&&(a=e("#edd-email").val(),d="edd"),e("#edd-first").length&&(i=e("#edd-first").val()),e("#edd-last").length&&(t=e("#edd-last").val()),e("#billing_email").length&&(a=e("#billing_email").val()),e("#billing_first_name").length&&(i=e("#billing_first_name").val()),e("#billing_last_name").length&&(t=e("#billing_last_name").val()),e("#billing_phone").length&&(n=e("#billing_phone").val()),e("#billing_country").length&&(c=e("#billing_country").val()),e("#billing_address_1").length&&(_=e("#billing_address_1").val()),e("#billing_city").length&&(o=e("#billing_city").val()),e("#billing_postcode").length&&(r=e("#billing_postcode").val());let u={action:"cl_save_abandon_cart_data",security:cl_localized_vars.security,email:a,first_name:i,last_name:t,phone:n,country:c,address:_,city:o,postcode:r,provider:d};""!==s&&(u.wpfunnels_checkout_id=s),clearTimeout(l),l=setTimeout((function(){CartLiftCheckout.is_email(u.email)&&e.post(cl_localized_vars.ajaxurl,u,(function(e){}))}),500)},remove_gdpr_notice:function(){var l="wc";e("#edd-email").length&&(l="edd");let a={action:"cl_remove_gdpr_notice",security:cl_localized_vars.gdpr_nonce,provider:l};e.post(cl_localized_vars.ajaxurl,a,(function(l){l.success&&e("#cl_gdpr_message").delay(1e3).fadeOut()}))},is_email:function(e){return/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(e)}},jQuery(document).ready((function(){CartLiftCheckout.init();var l=e("#cl_edd_email").val(),a=e("#cl_edd_first_name").val();e("#edd-email").val(l),e("#edd-first").val(a)}))}(jQuery);